<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <title>Start Your Free Trial | Broker Toolkit</title>
  <meta name="description" content="Start your free Broker Toolkit trial. One platform for AI newsletters, activity tracking, rate monitoring, and loan analysis.">
  <link rel="canonical" href="https://brokertoolkit.app/join">
  <meta property="og:title" content="Start Your Free Trial | Broker Toolkit">
  <meta property="og:description" content="Start your free Broker Toolkit trial in under a minute.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://brokertoolkit.app/join">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Start Your Free Trial | Broker Toolkit">
  <meta name="twitter:description" content="Start your free Broker Toolkit trial in under a minute.">
  <link rel="stylesheet" href="styles.css">
  <style>
    .join-shell { min-height: 100vh; background: linear-gradient(180deg,#162542 0,#1a2040 60%,#162542 100%); }
    .join-section { padding: 4.2rem 1.25rem; }
    .join-container { max-width: 1100px; margin: 0 auto; }

    .join-hero { display: grid; grid-template-columns: 1.15fr .85fr; gap: 2rem; align-items: center; }
    .join-badge {
      display: inline-block; background: rgba(76,68,211,.18); color: #a5b4fc;
      padding: .35rem .65rem; border-radius: 999px; font-size: .78rem; font-weight: 700; letter-spacing: .02em;
      margin-bottom: .9rem;
    }
    .join-hero h1 { font-size: clamp(2.2rem, 5vw, 3.3rem); margin-bottom: .9rem; }
    .join-hero p { color: #cbd5e1; max-width: 57ch; margin-bottom: 1.2rem; }
    .join-hero-ctas { display: flex; gap: .7rem; flex-wrap: wrap; }
    .join-btn-primary, .join-btn-secondary {
      border-radius: 10px; padding: .82rem 1.05rem; font-weight: 700; cursor: pointer; font-size: .92rem;
    }
    .join-btn-primary { border: none; color: #fff; background: linear-gradient(135deg,#4c44d3,#5b52e0); }
    .join-btn-secondary { border: 1px solid rgba(110,92,231,.45); color: #c7d2fe; background: transparent; }

    .join-price-card {
      background: rgba(15,23,42,.72); border: 1px solid rgba(76,68,211,.25); border-radius: 16px;
      padding: 1.3rem; box-shadow: 0 24px 70px rgba(0,0,0,.35);
    }
    .join-price-card h3 { margin-bottom: .35rem; font-size: 1.15rem; }
    .join-price { font-size: 2.3rem; color: #fff; font-weight: 800; line-height: 1; margin: .8rem 0 .2rem; }
    .join-price small { font-size: .95rem; color: #94a3b8; font-weight: 600; }
    .join-price-note { color: #94a3b8; font-size: .85rem; }

    .join-section-title { text-align: center; margin-bottom: 1.5rem; }
    .join-section-title h2 { font-size: clamp(1.65rem, 3vw, 2.35rem); margin-bottom: .55rem; }
    .join-section-title p { color: #94a3b8; max-width: 68ch; margin: 0 auto; }

    .join-grid-4 { display: grid; grid-template-columns: repeat(4,1fr); gap: 1rem; }
    .join-card {
      background: rgba(15,23,42,.55); border: 1px solid rgba(76,68,211,.2); border-radius: 14px; padding: 1rem;
    }
    .join-card h3 { font-size: 1.05rem; margin-bottom: .45rem; }
    .join-card p { color: #94a3b8; font-size: .9rem; }

    .join-grid-2 { display: grid; grid-template-columns: repeat(2,1fr); gap: 1rem; }

    .join-strip {
      border: 1px solid rgba(76,68,211,.25); background: rgba(12,18,34,.6); border-radius: 14px; padding: 1.2rem;
      display: flex; align-items: center; justify-content: space-between; gap: 1rem; flex-wrap: wrap;
    }
    .join-strip p { color: #cbd5e1; }

    .join-footer-links { margin-top: 2.2rem; display: flex; gap: 1rem; flex-wrap: wrap; }
    .join-footer-links a { color: #94a3b8; font-size: .83rem; }

    .modal-overlay {
      position: fixed; inset: 0; background: rgba(2,6,23,.78); z-index: 80;
      display: none; align-items: center; justify-content: center; padding: 1rem;
    }
    .modal-overlay.open { display: flex; }
    .modal {
      width: 100%; max-width: 520px; background: #0f172a; border: 1px solid rgba(76,68,211,.35);
      border-radius: 16px; padding: 1.2rem 1.2rem 1rem;
      box-shadow: 0 24px 90px rgba(0,0,0,.5);
    }
    .modal-head { display: flex; align-items: center; justify-content: space-between; gap: 1rem; margin-bottom: .8rem; }
    .modal-head h3 { font-size: 1.2rem; }
    .modal-close { background: transparent; border: none; color: #94a3b8; font-size: 1.4rem; cursor: pointer; }

    .join-field { margin-bottom: .9rem; }
    .join-field label { display: block; color: #cbd5e1; font-weight: 600; font-size: .88rem; margin-bottom: .35rem; }
    .join-field input {
      width: 100%; padding: .8rem .85rem; background: #0b1220; border: 1px solid rgba(100,116,139,.45);
      border-radius: 10px; color: #e2e8f0; font-size: .95rem;
    }
    .join-field input:focus { outline: none; border-color: #6e5ce7; box-shadow: 0 0 0 2px rgba(110,92,231,.2); }
    .join-submit {
      width: 100%; margin-top: .35rem; border: none; cursor: pointer;
      background: linear-gradient(135deg,#4c44d3,#5b52e0); color: #fff;
      padding: .9rem 1rem; border-radius: 10px; font-weight: 700; font-size: .95rem;
    }
    .join-submit:disabled { opacity: .65; cursor: not-allowed; }
    .join-note { margin-top: .75rem; font-size: .78rem; color: #94a3b8; }
    .join-status { margin-top: .85rem; font-size: .9rem; min-height: 1.25rem; }
    .join-status.ok { color: #22c55e; }
    .join-status.err { color: #f87171; }

    @media (max-width: 980px) {
      .join-grid-4 { grid-template-columns: repeat(2,1fr); }
      .join-hero { grid-template-columns: 1fr; }
    }
    @media (max-width: 700px) {
      .join-grid-2, .join-grid-4 { grid-template-columns: 1fr; }
      .join-top-nav .nav-inner { padding: 0 1rem; }
      .join-top-nav .nav-links { display: flex !important; }
      .join-top-nav .cta-nav { padding: .45rem .95rem; }
    }
  </style>
</head>
<body>
  <div class="join-shell">
    <nav class="join-top-nav">
      <div class="nav-inner">
        <a href="/" class="logo" aria-label="Broker Toolkit home">
          <img class="logo-icon" src="assets/logo-icon.png" alt="Broker Toolkit">
        </a>
        <div class="nav-links">
          <a href="#" class="cta-nav" data-open-trial>Start Free Trial</a>
        </div>
      </div>
    </nav>

    <main>
      <section class="join-section" style="padding-top:6.6rem;">
        <div class="join-container join-hero">
          <div>
            <span class="join-badge">Built for mortgage professionals</span>
            <h1>One platform for the daily work that drives loan volume</h1>
            <p>Broker Toolkit combines AI newsletter creation, activity accountability, live rate monitoring, and borrower-facing loan analysis in one place. No tool stack chaos. No disconnected workflows.</p>
            <div class="join-hero-ctas">
              <button class="join-btn-primary" type="button" data-open-trial>Start free trial</button>
              <a class="join-btn-secondary" href="features">Explore features</a>
            </div>
          </div>

          <aside class="join-price-card">
            <h3>Everything included</h3>
            <p class="join-price"><span>$97</span> <small>/month</small></p>
            <p class="join-price-note">No annual contracts. Cancel anytime. Free trial available.</p>
            <div style="height:1px;background:rgba(148,163,184,.22);margin:.9rem 0;"></div>
            <p style="color:#cbd5e1;font-size:.9rem;line-height:1.45;">Replace multiple subscriptions with one tool built specifically for mortgage operators and loan officers.</p>
          </aside>
        </div>
      </section>

      <section class="join-section" style="padding-top:0;">
        <div class="join-container">
          <div class="join-section-title">
            <h2>Four tools. One login. One workflow.</h2>
            <p>A focused setup that helps you stay visible to your database, execute daily production habits, and create borrower-ready guidance faster.</p>
          </div>

          <div class="join-grid-4">
            <article class="join-card">
              <h3>Newsletter Pro</h3>
              <p>AI-assisted newsletter creation for clients, prospects, and referral partners with content that sounds local and relevant.</p>
            </article>
            <article class="join-card">
              <h3>Activity Tracker</h3>
              <p>Track calls, talk-tos, appointments, leads, and apps against your production targets and daily standards.</p>
            </article>
            <article class="join-card">
              <h3>Rate Monitor</h3>
              <p>See live mortgage rates across 50 states with directional change context so you can communicate confidently.</p>
            </article>
            <article class="join-card">
              <h3>Loan Advisor</h3>
              <p>Generate side-by-side loan comparisons, break-even snapshots, and borrower-friendly analysis outputs.</p>
            </article>
          </div>
        </div>
      </section>

      <section class="join-section" style="padding-top:0;">
        <div class="join-container join-grid-2">
          <article class="join-card">
            <h3>Works with HighLevel</h3>
            <p>If you run HighLevel, Broker Toolkit plugs in cleanly and supports white labels as well. Keep your CRM and workflows connected.</p>
          </article>
          <article class="join-card">
            <h3>Works standalone too</h3>
            <p>Not on HighLevel? Still works. Every major tool is usable as a standalone workflow in the app.</p>
          </article>
        </div>
      </section>

      <section class="join-section" style="padding-top:0; padding-bottom:3.2rem;">
        <div class="join-container">
          <div class="join-strip">
            <div>
              <h3 style="margin-bottom:.35rem;">Ready to start your trial?</h3>
              <p>Get instant access and see the full platform in action.</p>
            </div>
            <button class="join-btn-primary" type="button" data-open-trial>Start free trial</button>
          </div>

          <div class="join-footer-links">
            <a href="terms">Terms</a>
            <a href="privacy">Privacy</a>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="modal-overlay" id="trialModal" aria-hidden="true">
    <section class="modal" role="dialog" aria-modal="true" aria-labelledby="trial-modal-title">
      <div class="modal-head">
        <h3 id="trial-modal-title">Start your free trial</h3>
        <button class="modal-close" type="button" id="closeModal" aria-label="Close">Ã—</button>
      </div>

      <form id="trial-signup-form" novalidate>
        <div class="join-field">
          <label for="firstName">First name *</label>
          <input id="firstName" name="firstName" type="text" autocomplete="given-name" required>
        </div>
        <div class="join-field">
          <label for="lastName">Last name *</label>
          <input id="lastName" name="lastName" type="text" autocomplete="family-name" required>
        </div>
        <div class="join-field">
          <label for="email">Work email *</label>
          <input id="email" name="email" type="email" autocomplete="email" required>
        </div>
        <div class="join-field">
          <label for="companyName">Company name (optional)</label>
          <input id="companyName" name="companyName" type="text" autocomplete="organization">
        </div>

        <button class="join-submit" id="submitBtn" type="submit">Start free trial</button>
        <div class="join-status" id="joinStatus" aria-live="polite"></div>
        <p class="join-note">By submitting, you agree to our terms and privacy policy.</p>
      </form>
    </section>
  </div>

  <script>
    (function() {
      const modal = document.getElementById('trialModal');
      const form = document.getElementById('trial-signup-form');
      const statusEl = document.getElementById('joinStatus');
      const submitBtn = document.getElementById('submitBtn');
      const closeModalBtn = document.getElementById('closeModal');
      const openButtons = Array.from(document.querySelectorAll('[data-open-trial]'));

      const params = new URLSearchParams(window.location.search);
      const attribution = {
        utm_source: params.get('utm_source') || '',
        utm_medium: params.get('utm_medium') || '',
        utm_campaign: params.get('utm_campaign') || '',
        utm_content: params.get('utm_content') || '',
        utm_term: params.get('utm_term') || ''
      };

      function track(eventName, extra) {
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push(Object.assign({
          event: eventName,
          page_type: 'join',
          page_path: '/join'
        }, attribution, extra || {}));
      }

      function openModal() {
        modal.classList.add('open');
        modal.setAttribute('aria-hidden', 'false');
        setTimeout(() => document.getElementById('firstName')?.focus(), 10);
        track('trial_signup_modal_open');
      }

      function closeModal() {
        modal.classList.remove('open');
        modal.setAttribute('aria-hidden', 'true');
      }

      openButtons.forEach(btn => btn.addEventListener('click', (e) => { e.preventDefault(); openModal(); }));
      closeModalBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('open')) closeModal();
      });

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        const formData = new FormData(form);
        const payload = {
          email: String(formData.get('email') || '').trim(),
          firstName: String(formData.get('firstName') || '').trim(),
          lastName: String(formData.get('lastName') || '').trim(),
          companyName: String(formData.get('companyName') || '').trim()
        };

        if (!payload.email || !payload.firstName || !payload.lastName) {
          statusEl.textContent = 'Please complete all required fields.';
          statusEl.className = 'join-status err';
          track('trial_signup_validation_error', { reason: 'missing_required_fields' });
          return;
        }

        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
        statusEl.textContent = '';
        statusEl.className = 'join-status';

        track('trial_signup_submit', { has_company: !!payload.companyName });

        try {
          const res = await fetch('/api/trial-signup', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });

          const data = await res.json().catch(() => ({}));

          if (!res.ok) {
            if (res.status === 409) {
              const signInUrl = 'https://my.brokertoolkit.app';
              statusEl.innerHTML = `An account with this email already exists. <a href="${signInUrl}" target="_blank" rel="noopener" style="color:#c7d2fe;text-decoration:underline;">Sign in here</a>.`;
              statusEl.className = 'join-status err';
              track('trial_signup_conflict', { has_company: !!payload.companyName });
              return;
            }
            throw new Error(data.error || 'Signup failed');
          }

          track('trial_signup_success', { has_company: !!payload.companyName });
          statusEl.textContent = 'Success. Your free trial request was submitted.';
          statusEl.className = 'join-status ok';
          form.reset();
        } catch (err) {
          track('trial_signup_error', { error_message: err.message || 'unknown_error' });
          statusEl.textContent = 'Sorry, we could not submit your request. Please try again.';
          statusEl.className = 'join-status err';
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Start free trial';
        }
      });
    })();
  </script>
</body>
</html>
